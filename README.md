# HP Elitebook x360 1040 G6 Opencore Hackintosh

## specs

* macOS Big Sur 11.2.2 (20D80)
* Intel i5-8365U / Intel UHD Graphics 620
* 16 GB of soldered Samsung DDR4 memory @ 2400Hz (as reported by macOS)
* replaced PM981 SSD  with EVO 860, 970 EVO Plus works fine too
* 14" 1920x1080 SureView

## what works

* **WIFI & Bluetooth !** (soldered Intel AX200, see [notes](#notes))

* **Speakers** - sometimes they won't show up in preferences & there are second speakers option that doesn't work
* Headphone combo jack
* Trackpad with gestures
* Touchscreen with pen input
* USB 3 Ports
* USB-C Ports (see [notes](#notes))
* Fn keys to change volume or brightness (see [notes](#notes))
* Battery status
* sleep
* HDMI
* HP Sure View (see [notes](#notes))
* FileVault 2


## what doesn't

* **Webcam:** detected by system as USB device, but no image
* **Fingerprint** and will never work
* **Windows Hello** and will never work
* **Internal microphone** i personally don't need it, may look later tho
* **Thunderbolt** - don't own any thunderbolt device
* **Volume buttons near USB-C** - tbh idk how to do it

**BIOS Version:** R90 01.08.03 Rev.A


**BIOS Settings**
- Disable SecureBoot, Wake on Lan, Power Control, set DVMT to 64MB and you should be good to go


I'm not going to cover how to install macOS - [dortania guide](https://dortania.github.io/OpenCore-Install-Guide/)


Use patches and SSDTs from my repo.

## ssdt
* **SSDT-AWAC** - generated by ssdttime
* **SSDT-BAT** - battery status, manually made
* **SSDT-EC** - generated by ssdttime
* **SSDT-HPET** - generated by ssdttime
* **SSDT-PLUG** - allows for better power management
* **SSDT-PLNF** - needed
* **SSDT-USBX** - needed for skylake and newer
* **SSDT-XOSI** - for trackpad and touchscreen to work, with patch in config.plsit

## kexts:
* Lilu
* WhateverGreen
* AirportItlwm
* AppleALC
* CPUFriend
* IntelBluetoothFirmware
* NoTouchID
* NVMEFix
* RTCMemoryFixup (not sure if needed, but with config.plist patches works so)
* VirtualSMC (with plugins)
* VoodooI2C (with HID)
* VoodooPS2Controller

**RECOMMENDED (post install):** https://github.com/xzhih/one-key-hidpi.

## notes
* wifi card is not replaceable, used airportitlwm
* couldn't get PM981 to work so I needed to replace it
* USB-C port tested with HP USB-C Mini dock, no thunderbolt devices to test thunderbolt functionality
* won't sleep with attached external storage - at least for me
* sometimes it boots in SureView mode by default
* if it boots to a black screen try turning on/off sureview repeatedly
* brightness keys on keyboard change SureView brightness, system preferences allow to change normal brightness
* cpu power management needs improvement (especially in idle), [geekbench score](https://browser.geekbench.com/v5/cpu/7251151)
